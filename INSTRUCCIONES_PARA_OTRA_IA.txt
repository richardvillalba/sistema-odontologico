===============================================================================
  INSTRUCCIONES PARA CONECTARSE A LA BASE DE DATOS ORACLE CLOUD
===============================================================================

ðŸŽ¯ OBJETIVO: Conectarte a la base de datos Oracle del sistema de odontologÃ­a

ðŸ“‹ LO QUE NECESITAS SABER:

1. Las credenciales estÃ¡n en: config/oracle/credentials.json
2. El wallet estÃ¡ en: config/Wallet_escanor/
3. Oracle Instant Client YA estÃ¡ instalado en: /opt/oracle/instantclient_23_6
4. La base de datos tiene 28 TABLAS YA CREADAS (no hay que crearlas)

===============================================================================

ðŸš€ CÃ“DIGO PARA CONECTARTE (Copia y ejecuta):

export LD_LIBRARY_PATH=/opt/oracle/instantclient_23_6:$LD_LIBRARY_PATH

python3 << 'EOF'
import oracledb
import json

# Leer credenciales
with open('config/oracle/credentials.json') as f:
    config = json.load(f)['oracle_cloud']

# Inicializar cliente Oracle
oracledb.init_oracle_client(
    lib_dir="/opt/oracle/instantclient_23_6",
    config_dir=config['config_dir']
)

# Conectar
connection = oracledb.connect(
    user=config['user'],
    password=config['password'],
    dsn=config['dsn']
)

print("âœ… Conectado a Oracle Cloud")

# Ejemplo: Listar tablas
cursor = connection.cursor()
cursor.execute("SELECT table_name FROM user_tables ORDER BY table_name")
tables = cursor.fetchall()
print(f"\nTablas encontradas: {len(tables)}")
for table in tables:
    print(f"  - {table[0]}")

cursor.close()
connection.close()
EOF

===============================================================================

ðŸ“š TABLAS DISPONIBLES (28):

MÃ³dulo Pacientes:
  â€¢ ODO_PACIENTES
  â€¢ ODO_HISTORIAS_CLINICAS
  â€¢ ODO_ODONTOGRAMAS

MÃ³dulo Citas:
  â€¢ ODO_CITAS
  â€¢ ODO_SESIONES_TRATAMIENTO

MÃ³dulo Tratamientos:
  â€¢ ODO_CATALOGOS_TRATAMIENTOS
  â€¢ ODO_TRATAMIENTOS_PACIENTE
  â€¢ ODO_TRATAMIENTOS_DIENTE
  â€¢ ODO_HALLAZGOS_DIENTE
  â€¢ ODO_PRESCRIPCIONES

MÃ³dulo FacturaciÃ³n:
  â€¢ ODO_FACTURAS
  â€¢ ODO_DETALLES_FACTURA
  â€¢ ODO_PAGOS
  â€¢ ODO_TIMBRADOS

MÃ³dulo Usuarios:
  â€¢ ODO_USUARIOS
  â€¢ ODO_ROLES
  â€¢ ODO_USUARIO_ROLES
  â€¢ ODO_USUARIO_SUCURSALES

MÃ³dulo OrganizaciÃ³n:
  â€¢ ODO_EMPRESAS
  â€¢ ODO_SUCURSALES

MÃ³dulo GeografÃ­a:
  â€¢ ODO_CIUDADES
  â€¢ ODO_DEPARTAMENTOS
  â€¢ ODO_BARRIOS
  â€¢ CIUDAD

Otros:
  â€¢ ODO_DIENTES
  â€¢ ODO_ARCHIVOS
  â€¢ ODO_AUDITORIA
  â€¢ DBTOOLS$EXECUTION_HISTORY

===============================================================================

ðŸ”§ HELPER PYTHON REUTILIZABLE:

Si quieres simplificar la conexiÃ³n, usa el helper ya creado:

from database.scripts.connect_db import get_connection

conn = get_connection()
cursor = conn.cursor()
cursor.execute("SELECT * FROM odo_pacientes WHERE ROWNUM <= 5")
for row in cursor:
    print(row)
cursor.close()
conn.close()

===============================================================================

ðŸ“– DOCUMENTACIÃ“N COMPLETA:

Lee estos archivos para mÃ¡s informaciÃ³n:
  â€¢ docs/GUIA_CONEXION_IA.md     - GuÃ­a completa de conexiÃ³n
  â€¢ ESTADO.md                    - Estado actual del proyecto
  â€¢ README.md                    - InformaciÃ³n general
  â€¢ database/README.md           - Convenciones de base de datos

===============================================================================

âš ï¸ IMPORTANTE:

1. NUNCA commitear credentials.json (ya estÃ¡ en .gitignore)
2. La base de datos YA TIENE DATOS - explora antes de modificar
3. Actualiza ESTADO.md cuando termines tu sesiÃ³n
4. Las tablas tienen prefijo "ODO_" (OdontologÃ­a)

===============================================================================

âœ… VERIFICACIÃ“N RÃPIDA:

Para verificar que todo funciona, ejecuta:

python3 database/scripts/connect_db.py

DeberÃ­as ver:
  âœ… Conectado como ADMIN a G04D6B70B49B5DA_ESCANOR
  ðŸ“‹ Tablas encontradas: 28

===============================================================================

Â¿Problemas? Revisa docs/GUIA_CONEXION_IA.md secciÃ³n "Troubleshooting"

===============================================================================
